title: Welcome to secureblue!
properties:
  mode: "run-once"
screens:
  first-screen:
    source: yafti.screen.title
    values:
      title: "Welcome to secureblue!"
      icon: "/path/to/icon"
      description: |
        This guided installer will help you get started with your new system.

  can-we-enable-usbguard:
    source: yafti.screen.consent
    values:
      title: Enable usbguard
      description: |
        This step will enable USBGuard. This will generate a policy based on your currently attached USB devices and block all others. 
      actions:
        - run: ujust setup-usbguard

  applications:
    source: yafti.screen.package
    values:
      title: Application Installer
      show_terminal: true
      package_manager: yafti.plugin.flatpak
      package_manager_defaults:
        user: true
        system: false
      groups:
        Core GNOME Apps:
          description: Core system applications for the GNOME desktop environment.
          default: false
          packages:
            - Calculator: org.gnome.Calculator
            - Calendar: org.gnome.Calendar
            - Camera: org.gnome.Snapshot
            - Characters: org.gnome.Characters
            - Clocks: org.gnome.clocks
            - Connections: org.gnome.Connections
            - Contacts: org.gnome.Contacts
            - Disk Usage Analyzer: org.gnome.baobab
            - Document Scanner: org.gnome.SimpleScan
            - Document Viewer: org.gnome.Evince
            - Extensions: org.gnome.Extensions
            - Font Viewer: org.gnome.font-viewer
            - Image Viewer: org.gnome.Loupe
            - Logs: org.gnome.Logs
            - Maps: org.gnome.Maps
            - Text Editor: org.gnome.TextEditor
            - Weather: org.gnome.Weather

        Core KDE Plasma Apps:
          description: Core system applications for the KDE Plasma desktop environment.
          default: false
          packages:
            - Gwenview: org.kde.gwenview
            
        System Apps:
          description: System applications for all desktop environments.
          default: true
          packages:
            - Flatseal (Permission Manager): com.github.tchx84.Flatseal
            - Warehouse (App Installer/Manager): io.github.flattool.Warehouse

  final-screen:
    source: yafti.screen.title
    values:
      title: "Yafti run complete!"
      icon: "/path/to/icon"
      links:
        - "Post-install README":
            run: /usr/bin/xdg-open https://github.com/secureblue/secureblue/blob/live/docs/POSTINSTALL-README.md
      description: |
        Complete your secureblue installation by following the Post-install README.
